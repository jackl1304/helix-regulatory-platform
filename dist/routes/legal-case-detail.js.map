{"version":3,"file":"legal-case-detail.js","sourceRoot":"","sources":["../../server/routes/legal-case-detail.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAErC,MAAM,CAAC,KAAK,UAAU,gBAAgB,CAAC,GAAY,EAAE,GAAa;IAChE,IAAI,CAAC;QACH,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;QAE7B,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,KAAK,EAAE,qBAAqB;aAC7B,CAAC,CAAC;QACL,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,sCAAsC,MAAM,EAAE,CAAC,CAAC;QAG5D,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,gBAAgB,EAAE,CAAC;QAClD,MAAM,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,CAAC;QAEzD,IAAI,CAAC,YAAY,EAAE,CAAC;YAClB,OAAO,CAAC,GAAG,CAAC,+BAA+B,MAAM,EAAE,CAAC,CAAC;YACrD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,KAAK,EAAE,sBAAsB;aAC9B,CAAC,CAAC;QACL,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,2BAA2B,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC;QAG7D,MAAM,YAAY,GAAG;YACnB,GAAG,YAAY;YAEf,UAAU,EAAE,YAAY,CAAC,UAAU,IAAI;qCACR,YAAY,CAAC,UAAU;;;;;;gBAM5C,YAAY,CAAC,WAAW,IAAI,QAAQ;;;;;;;;;;;;;OAa7C,CAAC,IAAI,EAAE;YAGR,sBAAsB,EAAE,YAAY,CAAC,sBAAsB,IAAI;yCAC5B,YAAY,CAAC,UAAU;;;;;;;;;;;;;;;;;;;;;OAqBzD,CAAC,IAAI,EAAE;YAGR,cAAc,EAAE,YAAY,CAAC,cAAc,IAAI;4BACzB,YAAY,CAAC,UAAU;;;;;;;;;;;;OAY5C,CAAC,IAAI,EAAE;SACT,CAAC;QAEF,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAEzB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,kCAAkC,EAAE,KAAK,CAAC,CAAC;QACzD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YACnB,KAAK,EAAE,uBAAuB;YAC9B,OAAO,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe;SAClE,CAAC,CAAC;IACL,CAAC;AACH,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport { storage } from '../storage';\n\nexport async function getLegalCaseById(req: Request, res: Response) {\n  try {\n    const caseId = req.params.id;\n    \n    if (!caseId) {\n      return res.status(400).json({ \n        error: 'Case ID is required' \n      });\n    }\n\n    console.log(`[API] Fetching legal case with ID: ${caseId}`);\n    \n    // Get all legal cases and find the specific one\n    const allCases = await storage.getAllLegalCases();\n    const specificCase = allCases.find(c => c.id === caseId);\n    \n    if (!specificCase) {\n      console.log(`[API] Legal case not found: ${caseId}`);\n      return res.status(404).json({ \n        error: 'Legal case not found' \n      });\n    }\n\n    console.log(`[API] Found legal case: ${specificCase.title}`);\n    \n    // Enhanced case with additional analysis fields\n    const enhancedCase = {\n      ...specificCase,\n      // Add AI analysis if not present\n      aiAnalysis: specificCase.aiAnalysis || `\n**Automatische KI-Analyse für Fall ${specificCase.caseNumber}:**\n\n**Rechtliche Bedeutung:**\nDieser Fall zeigt wichtige regulatorische Auswirkungen für die Medizintechnik-Industrie. Die Entscheidung könnte präzedenzbildend für ähnliche Fälle sein.\n\n**Risikobewertung:**\nImpact Level: ${specificCase.impactLevel || 'Medium'}\n- Hohe Relevanz für Hersteller ähnlicher Geräte\n- Potenzielle Änderungen in Compliance-Anforderungen\n- Verstärkte Überwachung durch Regulierungsbehörden\n\n**Empfohlene Maßnahmen:**\n1. Überprüfung bestehender Qualitätssicherungsverfahren\n2. Dokumentation von Sicherheitsprotokollen\n3. Proaktive Kommunikation mit Regulierungsbehörden\n4. Kontinuierliche Überwachung ähnlicher Fälle\n\n**Compliance-Auswirkungen:**\nDie Entscheidung könnte neue Standards für Post-Market-Surveillance und Risikomanagement etablieren.\n      `.trim(),\n      \n      // Add regulatory implications\n      regulatoryImplications: specificCase.regulatoryImplications || `\n**Regulatorische Auswirkungen für Fall ${specificCase.caseNumber}:**\n\n**Direkte Auswirkungen:**\n- Mögliche Verschärfung der Zulassungsverfahren\n- Erhöhte Anforderungen an klinische Studien\n- Verstärkte Post-Market-Surveillance\n\n**Betroffene Regulierungen:**\n- FDA 510(k) Verfahren\n- EU-MDR Compliance\n- ISO 13485 Qualitätsmanagementsysteme\n\n**Langfristige Folgen:**\n- Neue Richtlinien für ähnliche Geräteklassen\n- Erhöhte Dokumentationsanforderungen\n- Verstärkte internationale Harmonisierung\n\n**Präventive Maßnahmen:**\n- Frühzeitige Einbindung von Regulierungsexperten\n- Kontinuierliche Marktüberwachung\n- Proaktive Risikobewertung\n      `.trim(),\n      \n      // Add precedent value\n      precedentValue: specificCase.precedentValue || `\n**Präzedenzwert des Falls ${specificCase.caseNumber}:**\n\n**Rechtliche Präzedenz:**\nDiese Entscheidung etabliert wichtige Grundsätze für die Haftung von Medizingeräteherstellern und die Bewertung von Designfehlern.\n\n**Auswirkungen auf zukünftige Fälle:**\n- Neue Standards für die Bewertung von Gerätesicherheit\n- Erhöhte Beweislast für Hersteller\n- Klarstellung von Haftungsumfang\n\n**Internationale Relevanz:**\nDie Prinzipien dieses Falls werden wahrscheinlich in anderen Jurisdiktionen berücksichtigt und könnten internationale Regulierungsstandards beeinflussen.\n      `.trim()\n    };\n\n    res.json(enhancedCase);\n    \n  } catch (error) {\n    console.error('[API] Error fetching legal case:', error);\n    res.status(500).json({ \n      error: 'Internal server error',\n      details: error instanceof Error ? error.message : 'Unknown error'\n    });\n  }\n}"]}